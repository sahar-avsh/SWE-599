{% comment %} {% extends "mindspace/base.html" %} 

{% load static %}
{% block styles %}
  <link rel="stylesheet" type="text/css" href="{% static 'mindspace/resource_update.css' %}">
{% endblock styles %}
{% block js %}
  <script src="{% static 'mindspace/dropdown.js' %}"></script>
  <script src="{% static 'mindspace/resource_create.js' %}"></script>
{% endblock js %}

{% load crispy_forms_tags %}

{% block title %}
    {{block.super}} - Update a Resource
{% endblock title %} {% endcomment %}

{% comment %} {% block navbar %}

<ul>
  <li><a href={% url 'main_page' %}>Home</a></li>
  <li><a class="active" href={% url 'mindspace:mindspace_list' %}>Dashboard</a></li>
  <li><a href={% url 'profiles:profile_detail' id=request.user.profile.id %}>Profile</a></li>
  <li><a href="#">Q&A</a></li>
  <li style="float:right"><a href={% url 'logout' %}>Logout</a></li>
  <li style="float:right"><a href="#">Notifications</a></li>

  <div class="dropdown">
    <button onclick="myFunction()" class="dropbtn">Actions</button>
    <div id="myDropdown" class="dropdown-content">
      <a href={% url 'mindspace:resource_update' ms_id=object.belongs_to.id id=object.id %}>Edit</a>
      <a href={% url 'mindspace:resource_delete' ms_id=object.belongs_to.id id=object.id %}>Delete</a>
      <a href="#contact">Clicked</a>
    </div>
  </div>
</ul>

{% endblock navbar %} {% endcomment %}

{% comment %} {% block content %} {% endcomment %}

{% load static %}
{% load crispy_forms_tags %}

        <h4 style="margin-left: 20px; margin-top: 5px;"> Update {{object.title}} </h4>
        <form action="{% url 'mindspace:resource_update' ms_id=object.belongs_to.id id=object.id %}" method='POST' id="id-form-edit-resource" enctype="multipart/form-data">{% csrf_token %}
          {{form.title|as_crispy_field}}
          {{form.description|as_crispy_field}}
          {{form.res_format|as_crispy_field}}
          {{form.video|as_crispy_field}}
          {{form.image|as_crispy_field}}
          <a data-toggle="tooltip" data-placement="right" title="{{ form.document.help_text|safe }}">{{form.document|as_crispy_field}}</a>
          {{form.quote|as_crispy_field}}
          {{form.link|as_crispy_field}}

          <div class="buttons">
            <input type='submit' class='btn btn-success' value='Save'/>
            <button class="btn btn-secondary" type="button" onclick=closeForm()>Cancel</button>
          </div>
        </form>

    <script>
      function closeForm() {
        $("#id-mindspace-edit").html("");
        $("#id-mindspace-edit").css('border', 'none');
      }
    </script>
    <script src="{% static 'mindspace/resource_create.js' %}"></script>


    <style>
      #id_description {
        height: 100px !important;
      }

      #id-form-edit-resource {
        padding: 20px;
      }
    </style>

{% comment %} {% endblock content %} {% endcomment %}